import{_ as I,u as S,r as U,B as y,o as l,c as r,a as s,C as w,w as p,v as _,m as o,F as E,p as L,b as V,h as M}from"./index.edaf247d.js";import{M as u,a as N,b as j}from"./Message.4ffa7add.js";const n=d=>(L("data-v-3de84069"),d=d(),V(),d),q={key:0,class:"font-bold text-3xl text-gray-800"},F={key:1,class:"font-bold text-3xl text-gray-800"},O={class:"flex items-center justify-center my-5 text-gray-300 space-x-2"},B=n(()=>s("span",{class:"h-[1px] w-16 bg-gray-200"},null,-1)),C={key:0},P={key:1},T=n(()=>s("span",{class:"h-[1px] w-16 bg-gray-200"},null,-1)),$={class:"form__group text-gray-400"},D=n(()=>s("label",{for:"email",class:"form__label"},"Email address",-1)),z={class:"form__group text-gray-400"},R=n(()=>s("label",{for:"password",class:"form__label"},"Password",-1)),W=n(()=>s("button",{class:"form__btn"},"\u767B\u5165",-1)),A={class:"form__group text-gray-400"},G=n(()=>s("label",{for:"email",class:"form__label"},"Email address",-1)),H={class:"form__group text-gray-400"},J=n(()=>s("label",{for:"nickname",class:"form__label"},"Nickname",-1)),K={class:"form__group text-gray-400"},Q=n(()=>s("label",{for:"password",class:"form__label"},"Password",-1)),X=n(()=>s("button",{class:"form__btn"},"\u8A3B\u518A\u5E33\u865F",-1)),Y={name:"LoginForm",setup(d){const f=S(),i=U(!0),g=()=>{i.value=!i.value},{signUpInfo:c,handleSignUp:x}=v(),{loginInfo:m,handleSignIn:h}=b();function v(){const a=y({email:"",nickname:"",password:""});return{signUpInfo:a,handleSignUp:async()=>{if(a.password.length<6||a.password.indexOf(" ")!==-1)return u({type:"warn",text:"\u5BC6\u78BC\u4E0D\u5F97\u6709\u7A7A\u683C\u6216\u5C11\u65BC 6 \u500B\u5B57\u5143"});try{const e=await N(a);u({type:"success",text:e.message}),a.email="",a.nickname="",a.password="",i.value=!0}catch(e){u({type:"error",text:e.response.data.error[0]})}}}}function b(){const a=y({email:"",password:""});return{loginInfo:a,handleSignIn:async()=>{try{const k=(await j(a)).headers.authorization;localStorage.setItem("5xcampTodo",k),f.push("/"),u({type:"success",text:"\u6B61\u8FCE\u56DE\u4F86!"})}catch{u({text:"\u5E33\u865F\u6216\u5BC6\u78BC\u932F\u8AA4!"})}}}}return(a,t)=>(l(),r(E,null,[i.value?(l(),r("h2",q,"\u6B61\u8FCE\u56DE\u4F86")):(l(),r("h2",F,"\u8A3B\u518A\u5E33\u865F")),s("div",O,[B,i.value?(l(),r("span",C,"\u4F7F\u7528\u8005\u767B\u5165")):(l(),r("span",P,"\u586B\u5BEB\u8CC7\u6599")),T]),i.value?(l(),r("form",{key:2,class:"form w-[250px]",onSubmit:t[2]||(t[2]=w((...e)=>o(h)&&o(h)(...e),["prevent"]))},[s("div",$,[p(s("input",{type:"email",class:"form__input",placeholder:"Email address",id:"email",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>o(m).email=e)},null,512),[[_,o(m).email]]),D]),s("div",z,[p(s("input",{type:"password",class:"form__input",placeholder:"Password",id:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>o(m).password=e)},null,512),[[_,o(m).password]]),R]),s("div",{class:"form__group flex flex-col justify-center items-center"},[W,s("span",{class:"cursor-pointer",onClick:g},"\u8A3B\u518A\u5E33\u865F")])],32)):(l(),r("form",{key:3,class:"form w-[250px]",onSubmit:t[6]||(t[6]=w((...e)=>o(x)&&o(x)(...e),["prevent"]))},[s("div",A,[p(s("input",{type:"email",class:"form__input",placeholder:"Email address",id:"email",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>o(c).email=e)},null,512),[[_,o(c).email]]),G]),s("div",H,[p(s("input",{type:"text",class:"form__input",placeholder:"Nickname",id:"nickname",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>o(c).nickname=e)},null,512),[[_,o(c).nickname]]),J]),s("div",K,[p(s("input",{type:"password",class:"form__input",placeholder:"Password",id:"password",required:"","onUpdate:modelValue":t[5]||(t[5]=e=>o(c).password=e)},null,512),[[_,o(c).password]]),Q]),s("div",{class:"form__group flex flex-col justify-center items-center"},[X,s("span",{class:"cursor-pointer",onClick:g},"\u767B\u5165")])],32))],64))}};var Z=I(Y,[["__scopeId","data-v-3de84069"]]);const ss={class:"grid grid-cols-12 min-h-screen bg-indigo-500"},es=s("div",{class:"col-span-8 <xl:col-span-6 <lg:col-span-12 flex items-center justify-center flex-col"},[s("h1",null,[s("div",{class:"font-bold text-5xl text-light-50 mb-4"},"WELCOME!"),s("div",{class:"text-gray-200 text-lg"}," ONLINE TODO LIST - \u6700\u5BE6\u7528\u7684\u7DDA\u4E0A\u4EE3\u8FA6\u4E8B\u9805\u670D\u52D9 ")])],-1),ts={class:"col-span-4 <xl:col-span-6 <lg:col-span-12 bg-light-50 flex items-center justify-center flex-col"},ns={name:"Login",setup(d){return(f,i)=>(l(),r("main",ss,[es,s("div",ts,[M(Z)])]))}};export{ns as default};
